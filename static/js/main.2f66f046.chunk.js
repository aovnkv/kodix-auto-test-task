(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/duck@3x.f5a8286c.png"},103:function(e,t,a){e.exports=a(213)},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){"use strict";a.r(t);a(67),a(59),a(87),a(60),a(88);var n=a(0),r=a.n(n),c=a(45),s=a(39),l=a(24),i=a(96),o=(a(131),a(97)),u=(a(203),a(204),a(98)),m=a.n(u),d=a(99),p=a.n(d),h=a(100),f=a.n(h),b=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header--wrapper"},r.a.createElement("img",{className:"header--logo",src:m.a,srcSet:"".concat(p.a," 2x, ").concat(f.a," 3x"),alt:"duck logo"}),r.a.createElement("div",{className:"header--name"},"Captain Quack")))},v=a(10),E=a(21),g=a(22),y=a(25),C=a(23),N=a(26),j=a(101),O=a.n(j),w="GET_CARS_SUCCESS",k="GET_CARS_REQUEST",I="GET_CARS_FAILURE",S="DELETE_CAR",x="ADD_CAR",_=function(){return{type:k}},L=function(e){return{type:I,errorObj:e}};a(205);var A=a(32),D=(a(206),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={showItems:!1},a.handleClick=function(){return a.setState(function(e){return{showItems:!e.showItems}})},a.selectItem=function(e){a.setState({showItems:!1}),a.props.selectItem(e.value)},a}return Object(N.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"select-box ".concat(this.state.showItems?"_open":""," ").concat(this.props.status?"_selected":"")},r.a.createElement("div",{onClick:this.handleClick,className:"select-box--inner"},r.a.createElement("span",{className:"select-box--label"},"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("span",{className:"select-box--selectedItem",style:{visibility:this.props.status?"visible":"hidden"}},this.props.status),r.a.createElement("div",{className:"select-box--arrow"})),r.a.createElement("div",{className:"select-box--outer",style:{display:this.state.showItems?"block":"none"}},this.props.items.map(function(t){return r.a.createElement("div",{onClick:function(){return e.selectItem(t)},className:"select-box--option ".concat(e.props.status===t.value?"selected":""),key:t.id},t.value)})),r.a.createElement("input",{type:"hidden",value:this.props.status,name:"status"}))}}]),t}(n.Component)),F=(a(207),function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"radio",name:"color",id:this.props.color,value:this.props.color,onChange:this.props.handleChange,className:"color-input",checked:this.props.checkedColor===this.props.color}),r.a.createElement("label",{className:"color--".concat(this.props.color),htmlFor:this.props.color},this.props.color))}}]),t}(n.Component)),R=(a(208),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).initialState={title:"",price:"",year:"",description:"",color:"",status:""},a.state=Object(v.a)({},a.initialState),a.handleSubmit=function(e){e.preventDefault();var t=a.state;a.props.dispatch(function(e){return function(t){return t({type:x,newCar:e})}}(Object(v.a)({},t,{year:+a.state.year}))),a.setState(Object(v.a)({},a.initialState))},a.handleChange=function(e){var t,n=e.target,r=n.name;switch(console.log(r),n.name){case"price":t=n.value?Number(n.value.replace(/\D/g,"")).toLocaleString("ru"):"",a.setState(function(e){return t.length<=10?Object(A.a)({},r,t):e});break;case"year":t=n.value?Number(n.value.replace(/\D/g,"")):"",a.setState(function(e){return n.value.length<=4?Object(A.a)({},r,t):e});break;default:t=n.value,a.setState(Object(A.a)({},r,t))}},a.statusUpdate=function(e){a.setState({status:e})},a}return Object(N.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=[{color:"white",id:1},{color:"black",id:2},{color:"gray",id:3},{color:"red",id:4},{color:"green",id:5}].map(function(t){return r.a.createElement(F,{handleChange:e.handleChange,color:t.color,key:t.id,checkedColor:e.state.color})});return r.a.createElement("section",{className:"newCar"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"newCar-form",noValidate:!0},r.a.createElement("div",{className:"newCar-form-row1"},r.a.createElement("div",{className:"newCar-form--title"},r.a.createElement("input",{name:"title",type:"text",id:"title",value:this.state.title,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"title"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")),r.a.createElement("div",{className:"newCar-form--price"},r.a.createElement("input",{name:"price",type:"text",id:"price",value:this.state.price,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"price"},"\u0426\u0435\u043d\u0430")),r.a.createElement("div",{className:"newCar-form--year"},r.a.createElement("input",{name:"year",type:"number",id:"_year",value:this.state.year,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"_year"},"\u0413\u043e\u0434"))),r.a.createElement("div",{className:"newCar-form-row2"},r.a.createElement("div",{className:"newCar-form--compl"},r.a.createElement("input",{name:"description",type:"text",id:"description",value:this.state.description,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"description"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"))),r.a.createElement("div",{className:"newCar-form-row3"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"\u0426\u0432\u0435\u0442"),r.a.createElement("div",{className:"newCar-form--color"},t)),r.a.createElement("div",{className:"newCar-form--status"},r.a.createElement(D,{items:[{value:"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438",id:1},{value:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f",id:2},{value:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438",id:3}],selectItem:this.statusUpdate,status:this.state.status})),r.a.createElement("button",{onClick:this.handleSubmit,className:"newCar-form--submit",type:"submit",name:"newCar-form--submit",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},r.a.createElement("span",{className:"newCar-form--submit-text"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))}}]),t}(n.Component)),T=Object(l.b)()(R),U=(a(209),a(210),Object(l.b)()(function(e){var t=e.id,a=e.title,n=e.description,c=e.year,s=e.color,l=e.status,i=e.price.toLocaleString("ru"),o="white"===s||"#fff"===s?{background:s,border:"1px solid #ddd",width:18,height:18}:{background:s},u=function(t){return e.dispatch(function(e){return function(t){return t({type:S,id:e})}}(t))};return r.a.createElement("div",{className:"carItem"},r.a.createElement("div",{className:"carItem--name"},a),r.a.createElement("div",{className:"carItem--color",style:o}),r.a.createElement("div",{className:"carItem--price"},"".concat(i," \u0440\u0443\u0431.")),n&&r.a.createElement("div",{className:"carItem--options"},n),r.a.createElement("div",{className:"carItem--year"},c),r.a.createElement("div",{className:"carItem--status"},l),r.a.createElement("button",{onClick:function(){return u(t)},type:"button",name:"delete",value:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",className:"carItem--delete"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))})),q=function(e){var t=e.cars.map(function(e){return r.a.createElement(U,Object.assign({key:e.id},e))});return r.a.createElement("section",{className:"carsList"},r.a.createElement("h2",{className:"carsList-title"},"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"),r.a.createElement("div",{className:"carsList-header"},r.a.createElement("div",{className:"carsList-header-col--name"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("div",{className:"carsList-header-col--year"},"\u0413\u043e\u0434"),r.a.createElement("div",{className:"carsList-header-col--color"},"\u0426\u0432\u0435\u0442"),r.a.createElement("div",{className:"carsList-header-col--status"},"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("div",{className:"carsList-header-col--price"},"\u0426\u0435\u043d\u0430")),t)},G=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e={pednding:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f",out_of_stock:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438",in_stock:"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"};return function(t){return t(_()),O()("https://rawgit.com/Varinetz/e6cbadec972e76a340c41a65fcc2a6b3/raw/90191826a3bac2ff0761040ed1d95c59f14eaf26/frontend_test_table.json").then(function(e){return e.json()}).then(function(a){var n=a.map(function(t){return t.status in e&&(t.status=e[t.status]),t});t({type:w,payload:n,lastID:n[n.length-1].id})}).catch(function(e){console.dir("An error occurred.",e),t(L(e))})}}())}},{key:"renderLoading",value:function(){return r.a.createElement("h1",null,"Loading...")}},{key:"somethingWrong",value:function(e){return r.a.createElement("p",null,e)}},{key:"render",value:function(){var e=this.props,t=e.cars,a=e.isFetching,n=e.error;return a?this.renderLoading():n?this.somethingWrong(n):r.a.createElement("main",{className:"main"},r.a.createElement("h1",{className:"main--title"},"\xa1Ay caramba!"),r.a.createElement(T,null),r.a.createElement(q,{cars:t}))}}]),t}(n.Component);var Q=Object(l.b)(function(e){return Object(v.a)({},e)})(G);a(211);function J(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"copyright"},r.a.createElement("p",null,"\xa9 2015 CAPTAIN QUACK"),r.a.createElement("p",null,"\u0414\u0435\u0441\u043d\u0438\u0446\u0430 \u0442\u044b\u0441\u044f\u0447\u0435\u043b\u0435\u0442\u0438\u044f \u0438 \u043c\u043e\u043b\u043b\u044e\u0441\u043a!")))}a(212);var V=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(Q,null),r.a.createElement(J,null))},W=a(102),z={cars:[],isFetching:!1,error:void 0,lastID:void 0};var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=e.cars,n=e.lastID;switch(t.type){case k:return Object(v.a)({},e,{isFetching:!0});case I:return Object(v.a)({},e,{error:t.errorObj});case w:return Object(v.a)({},e,{cars:t.payload,isFetching:!1,lastID:t.lastID});case S:return Object(v.a)({},e,{cars:a.filter(function(e){return e.id!==t.id})});case x:return Object(v.a)({},e,{cars:[].concat(Object(W.a)(a),[Object(v.a)({},t.newCar,{id:void 0!==n?n+1:0})]),lastID:n+1});default:return e}},K=Object(o.createLogger)(),M=Object(s.c)(B,Object(s.a)(i.a,K));Object(c.render)(r.a.createElement(l.a,{store:M},r.a.createElement(V,null)),document.getElementById("root"))},98:function(e,t,a){e.exports=a.p+"static/media/duck.ad2bc8d3.png"},99:function(e,t,a){e.exports=a.p+"static/media/duck@2x.19166b1f.png"}},[[103,1,2]]]);
//# sourceMappingURL=main.2f66f046.chunk.js.map