(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/duck.ad2bc8d3.png"},21:function(e,t,a){e.exports=a.p+"static/media/duck@2x.19166b1f.png"},22:function(e,t,a){e.exports=a.p+"static/media/duck@3x.f5a8286c.png"},25:function(e,t,a){e.exports=a(44)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a(11),l=a(6),i=a(19),o=(a(34),a(35),a(20)),u=a.n(o),m=a(21),d=a.n(m),p=a(22),h=a.n(p),f=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header--wrapper"},r.a.createElement("img",{className:"header--logo",src:u.a,srcSet:"".concat(d.a," 2x, ").concat(h.a," 3x"),alt:"duck logo"}),r.a.createElement("div",{className:"header--name"},"Captain Quack")))},b=a(1),v=a(3),E=a(4),g=a(7),y=a(5),C=a(8),N=a(23),j=a.n(N),O="GET_CARS_SUCCESS",w="GET_CARS_REQUEST",k="GET_CARS_FAILURE",I="DELETE_CAR",S="ADD_CAR",x=function(){return{type:w}},_=function(e){return{type:k,errorObj:e}};a(36);var A=a(10),L=(a(37),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={showItems:!1},a.handleClick=function(){return a.setState(function(e){return{showItems:!e.showItems}})},a.selectItem=function(e){a.setState({showItems:!1}),a.props.selectItem(e.value)},a}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"select-box ".concat(this.state.showItems?"_open":""," ").concat(this.props.status?"_selected":"")},r.a.createElement("div",{onClick:this.handleClick,className:"select-box--inner"},r.a.createElement("span",{className:"select-box--label"},"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("span",{className:"select-box--selectedItem",style:{visibility:this.props.status?"visible":"hidden"}},this.props.status),r.a.createElement("div",{className:"select-box--arrow"})),r.a.createElement("div",{className:"select-box--outer",style:{display:this.state.showItems?"block":"none"}},this.props.items.map(function(t){return r.a.createElement("div",{onClick:function(){return e.selectItem(t)},className:"select-box--option ".concat(e.props.status===t.value?"selected":""),key:t.id},t.value)})),r.a.createElement("input",{type:"hidden",value:this.props.status,name:"status"}))}}]),t}(n.Component)),D=(a(38),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"radio",name:"color",id:this.props.color,value:this.props.color,onChange:this.props.handleChange,className:"color-input",checked:this.props.checkedColor===this.props.color}),r.a.createElement("label",{className:"color--".concat(this.props.color),htmlFor:this.props.color},this.props.color))}}]),t}(n.Component)),F=(a(39),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).initialState={title:"",price:"",year:"",description:"",color:"",status:""},a.state=Object(b.a)({},a.initialState),a.handleSubmit=function(e){e.preventDefault();var t=a.state;a.props.dispatch(function(e){return function(t){return t({type:S,newCar:e})}}(Object(b.a)({},t,{year:+a.state.year}))),a.setState(Object(b.a)({},a.initialState))},a.handleChange=function(e){var t,n=e.target,r=n.name;switch(console.log(r),n.name){case"price":t=n.value?Number(n.value.replace(/\D/g,"")).toLocaleString("ru"):"",a.setState(function(e){return t.length<=10?Object(A.a)({},r,t):e});break;case"year":t=n.value?Number(n.value.replace(/\D/g,"")):"",a.setState(function(e){return n.value.length<=4?Object(A.a)({},r,t):e});break;default:t=n.value,a.setState(Object(A.a)({},r,t))}},a.statusUpdate=function(e){a.setState({status:e})},a}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=[{color:"white",id:1},{color:"black",id:2},{color:"gray",id:3},{color:"red",id:4},{color:"green",id:5}].map(function(t){return r.a.createElement(D,{handleChange:e.handleChange,color:t.color,key:t.id,checkedColor:e.state.color})});return r.a.createElement("section",{className:"newCar"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"newCar-form",noValidate:!0},r.a.createElement("div",{className:"newCar-form-row1"},r.a.createElement("div",{className:"newCar-form--title"},r.a.createElement("input",{name:"title",type:"text",id:"title",value:this.state.title,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"_title"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")),r.a.createElement("div",{className:"newCar-form--price"},r.a.createElement("input",{name:"price",type:"text",id:"price",value:this.state.price,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"price"},"\u0426\u0435\u043d\u0430")),r.a.createElement("div",{className:"newCar-form--year"},r.a.createElement("input",{name:"year",type:"number",id:"_year",value:this.state.year,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"_year"},"\u0413\u043e\u0434"))),r.a.createElement("div",{className:"newCar-form-row2"},r.a.createElement("div",{className:"newCar-form--compl"},r.a.createElement("input",{name:"description",type:"text",id:"description",value:this.state.description,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"description"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"))),r.a.createElement("div",{className:"newCar-form-row3"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"\u0426\u0432\u0435\u0442"),r.a.createElement("div",{className:"newCar-form--color"},t)),r.a.createElement("div",{className:"newCar-form--status"},r.a.createElement(L,{items:[{value:"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438",id:1},{value:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f",id:2},{value:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438",id:3}],selectItem:this.statusUpdate,status:this.state.status})),r.a.createElement("button",{onClick:this.handleSubmit,className:"newCar-form--submit",type:"submit",name:"newCar-form--submit",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},r.a.createElement("span",{className:"newCar-form--submit-text"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))}}]),t}(n.Component)),R=Object(l.b)()(F),T=(a(40),a(41),Object(l.b)()(function(e){var t=e.id,a=e.title,n=e.description,c=e.year,s=e.color,l=e.status,i=e.price.toLocaleString("ru"),o="white"===s||"#fff"===s?{background:s,border:"1px solid #ddd",width:18,height:18}:{background:s},u=function(t){return e.dispatch(function(e){return function(t){return t({type:I,id:e})}}(t))};return r.a.createElement("div",{className:"carItem"},r.a.createElement("div",{className:"carItem--name"},a),r.a.createElement("div",{className:"carItem--color",style:o}),r.a.createElement("div",{className:"carItem--price"},"".concat(i," \u0440\u0443\u0431.")),n&&r.a.createElement("div",{className:"carItem--options"},n),r.a.createElement("div",{className:"carItem--year"},c),r.a.createElement("div",{className:"carItem--status"},l),r.a.createElement("button",{onClick:function(){return u(t)},type:"button",name:"delete",value:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",className:"carItem--delete"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))})),U=function(e){var t=e.cars.map(function(e){return r.a.createElement(T,Object.assign({key:e.id},e))});return r.a.createElement("section",{className:"carsList"},r.a.createElement("h2",{className:"carsList-title"},"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"),r.a.createElement("div",{className:"carsList-header"},r.a.createElement("div",{className:"carsList-header-col--name"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("div",{className:"carsList-header-col--year"},"\u0413\u043e\u0434"),r.a.createElement("div",{className:"carsList-header-col--color"},"\u0426\u0432\u0435\u0442"),r.a.createElement("div",{className:"carsList-header-col--status"},"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("div",{className:"carsList-header-col--price"},"\u0426\u0435\u043d\u0430")),t)},q=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e={pednding:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f",out_of_stock:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438",in_stock:"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"};return function(t){return t(x()),j()("https://rawgit.com/Varinetz/e6cbadec972e76a340c41a65fcc2a6b3/raw/90191826a3bac2ff0761040ed1d95c59f14eaf26/frontend_test_table.json").then(function(e){return e.json()}).then(function(a){var n=a.map(function(t){return t.status in e&&(t.status=e[t.status]),t});t({type:O,payload:n,lastID:n[n.length-1].id})}).catch(function(e){console.dir("An error occurred.",e),t(_(e))})}}())}},{key:"renderLoading",value:function(){return r.a.createElement("h1",null,"Loading...")}},{key:"somethingWrong",value:function(e){return r.a.createElement("p",null,e)}},{key:"render",value:function(){var e=this.props,t=e.cars,a=e.isFetching,n=e.error;return a?this.renderLoading():n?this.somethingWrong(n):r.a.createElement("main",{className:"main"},r.a.createElement("h1",{className:"main--title"},"\xa1Ay caramba!"),r.a.createElement(R,null),r.a.createElement(U,{cars:t}))}}]),t}(n.Component);var G=Object(l.b)(function(e){return Object(b.a)({},e)})(q);a(42);function Q(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"copyright"},r.a.createElement("p",null,"\xa9 2015 CAPTAIN QUACK"),r.a.createElement("p",null,"\u0414\u0435\u0441\u043d\u0438\u0446\u0430 \u0442\u044b\u0441\u044f\u0447\u0435\u043b\u0435\u0442\u0438\u044f \u0438 \u043c\u043e\u043b\u043b\u044e\u0441\u043a!")))}a(43);var J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(G,null),r.a.createElement(Q,null))},V=a(24),W={cars:[],isFetching:!1,error:void 0,lastID:void 0};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=e.cars,n=e.lastID;switch(t.type){case w:return Object(b.a)({},e,{isFetching:!0});case k:return Object(b.a)({},e,{error:t.errorObj});case O:return Object(b.a)({},e,{cars:t.payload,isFetching:!1,lastID:t.lastID});case I:return Object(b.a)({},e,{cars:a.filter(function(e){return e.id!==t.id})});case S:return Object(b.a)({},e,{cars:[].concat(Object(V.a)(a),[Object(b.a)({},t.newCar,{id:void 0!==n?n+1:0})]),lastID:n+1});default:return e}},B=Object(s.c)(z,Object(s.a)(i.a));Object(c.render)(r.a.createElement(l.a,{store:B},r.a.createElement(J,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.643b5e26.chunk.js.map